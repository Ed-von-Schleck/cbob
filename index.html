<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Cbob by Ed-von-Schleck</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Cbob</h1>
        <p>cbob build your c/c++ projects. Also: It is easy to use.</p>
        <p class="view"><a href="https://github.com/Ed-von-Schleck/cbob">View the Project on GitHub <small>Ed-von-Schleck/cbob</small></a></p>
        <ul>
          <li><a href="https://github.com/Ed-von-Schleck/cbob/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Ed-von-Schleck/cbob/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Ed-von-Schleck/cbob">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><code>cbob</code> builds your C/C++ projects. It does automatic dependency resolution (well, with the help of gcc, but still) of your source files. Contrary to most build tools out there, it does <em>not</em> need configuration files - you use it solely over the CLI (it might grow a GUI at some time). <code>cbob</code> tries to do as little magic as possible, prefers explicicity over implicity and ease of use over being the most generic tool out there.</p>

<p><code>cbob</code> is far from complete at the moment, but here's what works:</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="help" class="anchor" href="#help"><span class="octicon octicon-link"></span></a>Help</h3>

<p>Do</p>

<div class="highlight"><pre>cbob --help
</pre></div>

<p>to get a list overview over the possible commands. To get help for a specific command, do</p>

<div class="highlight"><pre>cbob &lt;<span class="nb">command</span>&gt; --help
</pre></div>

<h3>
<a name="commands" class="anchor" href="#commands"><span class="octicon octicon-link"></span></a>Commands</h3>

<h4>
<a name="init-cbob" class="anchor" href="#init-cbob"><span class="octicon octicon-link"></span></a>Init cbob</h4>

<p>In your project's root directory, do</p>

<div class="highlight"><pre>cbob init
</pre></div>

<p>to initialize <code>cbob</code> for your project.</p>

<h4>
<a name="create-a-new-target" class="anchor" href="#create-a-new-target"><span class="octicon octicon-link"></span></a>Create a new target</h4>

<p>Every project needs at least one target to be defined. The name of the target is also the name of the resulting binary. To create a target, do</p>

<div class="highlight"><pre>cbob new &lt;target-name&gt;
</pre></div>

<h4>
<a name="adding-a-file-to-a-target" class="anchor" href="#adding-a-file-to-a-target"><span class="octicon octicon-link"></span></a>Adding a file to a target</h4>

<p>Building a target means building all source files that are added to it. You can use wildcards like <code>src/*.c</code>, but it will <em>not</em> magically add files you add to <code>src/</code> after that (it does not track the directory, only files). <code>cbob</code> currently accepts non-standard file endings, but your compiler may complain. To add one or many files, do</p>

<div class="highlight"><pre>cbob new &lt;target-name&gt; &lt;path-to-source-file&gt; <span class="o">[</span>&lt;path-to-other-source-file&gt; ...<span class="o">]</span>
</pre></div>

<h4>
<a name="configuring-a-target" class="anchor" href="#configuring-a-target"><span class="octicon octicon-link"></span></a>Configuring a target</h4>

<p>At the very least, a compiler need to be chosen. There is more, though: Do <code>cbob configure --help</code> to get a list of all configuration options. To try and let cbob figure it all out for you, do</p>

<div class="highlight"><pre>cbob configure --auto
</pre></div>

<h4>
<a name="building-a-target" class="anchor" href="#building-a-target"><span class="octicon octicon-link"></span></a>Building a target</h4>

<p>Simply do</p>

<div class="highlight"><pre>cbob build &lt;target-name&gt;
</pre></div>

<p>and you will end up with a binary in the directory you configured for your output (if you chose to auto-configure it's either <code>bin/</code> if it's there or the project's root).</p>

<h2>
<a name="planned-features" class="anchor" href="#planned-features"><span class="octicon octicon-link"></span></a>Planned Features</h2>

<ul>
<li>Target dependencies: Require other targets to be build and up-to-date (e.g. think of an <code>all</code> target that depends on all other targets).</li>
<li>Runners: Run code (shell files or binaries) before or after compiling (like for checks and tests).</li>
<li>Hash-based dependency-tracking: In addition to looking at <code>mtime</code>s of files, <code>cbob</code> will look at the SHA{256,512} hash value of a (preprocessed) source to determine if it has changed, or maybe changed back to a previously compiled object file that is still in the object file cache.</li>
<li>Options: Make it easy to define <code>--enable-foo</code> style configuration options.</li>
<li>Libtool support: Use libtool to make building libraries easier.</li>
</ul><h2>
<a name="maybe-features" class="anchor" href="#maybe-features"><span class="octicon octicon-link"></span></a>Maybe-Features</h2>

<ul>
<li>Target overlays: A target that just overlays some option (e.g. exchanging <code>-Og</code> with <code>-O2</code> in the CFLAGS), but transparently follows it's parent target's changes (e.g. think of a <code>release</code> overlay for the <code>development</code> target). So for, I haven't had an idea how to implement this elegantly.</li>
<li>Support for similar languages, e.g. D or Rust</li>
<li>Sub-projects: Let <code>cbob</code> handle projects in subdirectories (think of git submodules, and stuff like pre-checks as <code>cbob</code>-projects, hosted on github, as easily re-usable recipies).</li>
</ul><h2>
<a name="non-features" class="anchor" href="#non-features"><span class="octicon octicon-link"></span></a>Non-Features</h2>

<p>Things that are out of scope (though I may be convinced otherwise):</p>

<ul>
<li>Support for every language out there (but maybe support for doing, say, Python-modules written in C).</li>
<li>Support for system-wide installation (though I like <code>cbob</code> to be able to play nice with make/autotools).</li>
</ul><h2>
<a name="how-it-works" class="anchor" href="#how-it-works"><span class="octicon octicon-link"></span></a>How it works</h2>

<p>Just look in your <code>.cbob</code> directory. Every target is a subdirectory of <code>.cbob/targets</code>. Every source file is a symlink in its <code>sources</code> subdirectory. The source's file path relative to the project root is mangled (<code>/</code> replaced with <code>_</code>) so that it is a flat list. Similarly, the configured compiler is just a symlink, and so on.</p>

<p>When <code>cbob</code> builds a target, it first creates a bi-directional graph of dependencies by parsing gcc's output when invoked with <code>-M</code>. Files with dependencies (and a file has always a dependency on itself) older than the corresponding object file in <code>.cbob/build</code> are marked for recompilation, as well as all source files that depend (directly or indirectly) on our file in question (bi-directional, remember?).</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/Ed-von-Schleck">Ed-von-Schleck</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>